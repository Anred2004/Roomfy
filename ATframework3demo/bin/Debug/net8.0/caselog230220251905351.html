<!DOCTYPE html><div style="color: #000000">[23.02.2025 07:05:35.500][INFO] ---------------Запуск кейса 'Создание проекта + пост в ленту проекта'---------------</div>
<div style="color: #000000">[23.02.2025 07:05:35.512][INFO] OpenUri: http://192.168.1.42/</div>
<div style="color: #000000">[23.02.2025 07:05:42.260][INFO] Ожидание отображения элемента 'Поле для ввода логина' локаторы: //input[@id='login' or @name='USER_LOGIN']</div>
<div style="color: #000000">[23.02.2025 07:05:42.573][INFO] Ввод текста 'nastya.redkina.2004@mail.ru' в элемент: 'Поле для ввода логина' локаторы: //input[@id='login' or @name='USER_LOGIN']</div>
<div style="color: #000000">[23.02.2025 07:05:43.842][INFO] Ожидание отображения элемента 'Поле для ввода пароля' локаторы: //input[@id='password' or @name='USER_PASSWORD']</div>
<div style="color: #000000">[23.02.2025 07:05:43.885][INFO] Ожидание отображения элемента 'Поле для ввода пароля' локаторы: //input[@id='password' or @name='USER_PASSWORD']</div>
<div style="color: #000000">[23.02.2025 07:05:43.914][INFO] Ввод текста [логирование отключено] в элемент: 'Поле для ввода пароля' локаторы: //input[@id='password' or @name='USER_PASSWORD']</div>
<div style="color: #000000">[23.02.2025 07:05:45.463][INFO] Ожидание отображения элемента 'Поле для ввода пароля' локаторы: //input[@id='password' or @name='USER_PASSWORD']</div>
<div style="color: #000000">[23.02.2025 07:05:45.488][INFO] Ввод текста '' в элемент: 'Поле для ввода пароля' локаторы: //input[@id='password' or @name='USER_PASSWORD']</div>
<div style="color: #000000">[23.02.2025 07:06:35.346][INFO] Добавление пользователя ИванIIXXXXVXIXVIXXXIII ЧёIIIIXXXXVXIXVIXXXIII на портал скриптом</div>
<div style="color: #000000">[23.02.2025 07:06:35.348][INFO] Попытка выполнить php:</div>
<div style="color: #000000">$arFields["ADD_NAME"] = 'ИванIIXXXXVXIXVIXXXIII';</div>
<div style="color: #000000">$arFields["ADD_LAST_NAME"] = 'ЧёIIIIXXXXVXIXVIXXXIII';</div>
<div style="color: #000000">$arFields["ADD_EMAIL"] = 'bx1ivanchyoi-23022025070634@test.com';</div>
<div style="color: #000000">$arFields["DEPARTMENT_ID"] = '1';</div>
<div style="color: #000000"></div>
<div style="color: #000000">if ($arFields["DEPARTMENT_ID"] == 0)</div>
<div style="color: #000000">unset($arFields["DEPARTMENT_ID"]);</div>
<div style="color: #000000">else</div>
<div style="color: #000000">$arFields["DEPARTMENT_ID"] = [$arFields["DEPARTMENT_ID"]];</div>
<div style="color: #000000">$SITE_ID = "s1";</div>
<div style="color: #000000">$strError = "";</div>
<div style="color: #000000">$userID = 0;</div>
<div style="color: #000000">$userLogin = $arFields["ADD_EMAIL"];</div>
<div style="color: #000000">$userID = CIntranetInviteDialog::AddNewUser($SITE_ID, $arFields, $strError);</div>
<div style="color: #000000"></div>
<div style="color: #000000">if ($userID > 0) {</div>
<div style="color: #000000">echo "Пользователь ";</div>
<div style="color: #000000">echo $userLogin;</div>
<div style="color: #000000">echo " успешно добавлен на портал с ID ";</div>
<div style="color: #000000">if(is_array($userID))</div>
<div style="color: #000000">echo $userID[0];</div>
<div style="color: #000000">else</div>
<div style="color: #000000">echo $userID;</div>
<div style="color: #000000">echo "<br/>";</div>
<div style="color: #000000">}</div>
<div style="color: #000000"></div>
<div style="color: #000000">if ($strError != "")</div>
<div style="color: #000000">{</div>
<div style="color: #000000">if(is_array($strError))</div>
<div style="color: #000000">print_r($strError);</div>
<div style="color: #000000">else</div>
<div style="color: #000000">echo $strError;</div>
<div style="color: #000000">}</div>
<div style="color: #000000">[23.02.2025 07:07:42.837][INFO] Результат выполнения php:</div>
<div style="color: #000000">Пользователь bx1ivanchyoi-23022025070634@test.com успешно добавлен на портал с ID 57<br/></div>
<div style="color: #000000">[23.02.2025 07:07:42.868][INFO] Попытка выполнить php:</div>
<div style="color: #000000">global $DB;</div>
<div style="color: #000000">$res = $DB->Query("select ID from b_user where EMAIL = 'bx1ivanchyoi-23022025070634@test.com'");</div>
<div style="color: #000000">$rows = [];</div>
<div style="color: #000000">while ($row = $res->Fetch())</div>
<div style="color: #000000">$rows[] = $row;</div>
<div style="color: #000000">echo json_encode($rows);</div>
