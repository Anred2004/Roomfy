<!DOCTYPE html><div style="color: #000000">[01.05.2025 10:40:06.297][INFO] ---------------Запуск кейса 'Авторизация пользователя'---------------</div>
<div style="color: #000000">[01.05.2025 10:40:06.308][INFO] OpenUri: http://roomfy.bx/</div>
<div style="color: #000000">[01.05.2025 10:40:14.806][INFO] Попытка выполнить php:</div>
<div style="color: #000000">require_once($_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/main/include/prolog_before.php');</div>
<div style="color: #000000"></div>
<div style="color: #000000">use Bitrix\Main\Security\Password;</div>
<div style="color: #000000"></div>
<div style="color: #000000">function createTestUser($userData) {</div>
<div style="color: #000000">$user = new CUser;</div>
<div style="color: #000000"></div>
<div style="color: #000000">$arFields = [</div>
<div style="color: #000000">"NAME"              => $userData['NAME'],</div>
<div style="color: #000000">"LAST_NAME"         => $userData['LAST_NAME'],</div>
<div style="color: #000000">"EMAIL"             => $userData['EMAIL'],</div>
<div style="color: #000000">"LOGIN"             => $userData['LOGIN'],</div>
<div style="color: #000000">"PASSWORD"          => $userData['PASSWORD'],</div>
<div style="color: #000000">"CONFIRM_PASSWORD"  => $userData['PASSWORD'],</div>
<div style="color: #000000">"ACTIVE"            => "Y",</div>
<div style="color: #000000">"GROUP_ID"          => $userData['GROUP_ID'] ?? [2],</div>
<div style="color: #000000">"LID"               => "s1",</div>
<div style="color: #000000">"PERSONAL_GENDER"   => $userData['GENDER'] ?? '',</div>
<div style="color: #000000">"PERSONAL_PHONE"    => $userData['PHONE'] ?? '',</div>
<div style="color: #000000">];</div>
<div style="color: #000000"></div>
<div style="color: #000000">$ID = $user->Add($arFields);</div>
<div style="color: #000000"></div>
<div style="color: #000000">if ((int)$ID > 0) {</div>
<div style="color: #000000">echo "Пользователь {$userData['LOGIN']} успешно создан, ID: {$ID}\n";</div>
<div style="color: #000000">return $ID;</div>
<div style="color: #000000">} else {</div>
<div style="color: #000000">echo "Ошибка при создании пользователя {$userData['LOGIN']}: " . $user->LAST_ERROR . "\n";</div>
<div style="color: #000000">return false;</div>
<div style="color: #000000">}</div>
<div style="color: #000000">}</div>
<div style="color: #000000">$users = [</div>
<div style="color: #000000">[</div>
<div style="color: #000000">'NAME' => '',</div>
<div style="color: #000000">'EMAIL' => 'ivanov@example.com',</div>
<div style="color: #000000">'LOGIN' => 'login01052025224003',</div>
<div style="color: #000000">'PASSWORD' => 'passwd01052025224003'</div>
<div style="color: #000000">]</div>
<div style="color: #000000">];</div>
<div style="color: #000000"></div>
<div style="color: #000000">$createdUsers = [];</div>
<div style="color: #000000">foreach ($users as $userData) {</div>
<div style="color: #000000">$userId = createTestUser($userData);</div>
<div style="color: #000000">if ($userId) {</div>
<div style="color: #000000">$createdUsers[] = $userId;</div>
<div style="color: #000000">}</div>
<div style="color: #000000">}</div>
<div style="color: #000000"></div>
<div style="color: #000000">echo "Создано пользователей: " . count($createdUsers) . "\n";</div>
<div style="color: #000000">echo "ID созданных пользователей: " . implode(', ', $createdUsers) . "\n";</div>
<div style="color: #000000">[01.05.2025 10:40:31.436][INFO] Результат выполнения php:</div>
<div style="color: #000000">Пользователь login01052025224003 успешно создан, ID: 68</div>
<div style="color: #000000">Создано пользователей: 1</div>
<div style="color: #000000">ID созданных пользователей: 68</div>
<div style="color: #000000">[01.05.2025 10:40:31.448][INFO] Ожидание отображения элемента 'Поле Логин' локаторы: //input[@name = 'USER_LOGIN']</div>
<div style="color: #000000">[01.05.2025 10:40:31.529][INFO] Ожидание отображения элемента 'Поле Логин' локаторы: //input[@name = 'USER_LOGIN']</div>
<div style="color: #000000">[01.05.2025 10:40:31.562][INFO] Ввод текста '' в элемент: 'Поле Логин' локаторы: //input[@name = 'USER_LOGIN']</div>
<div style="color: #000000">[01.05.2025 10:40:32.725][INFO] Ожидание отображения элемента 'Поле Логин' локаторы: //input[@name = 'USER_LOGIN']</div>
<div style="color: #000000">[01.05.2025 10:40:32.762][INFO] Ввод текста 'login01052025224003' в элемент: 'Поле Логин' локаторы: //input[@name = 'USER_LOGIN']</div>
<div style="color: #000000">[01.05.2025 10:40:33.890][INFO] Ожидание отображения элемента 'Поле Пароль' локаторы: //input[@name = 'USER_PASSWORD']</div>
<div style="color: #000000">[01.05.2025 10:40:33.945][INFO] Ожидание отображения элемента 'Поле Пароль' локаторы: //input[@name = 'USER_PASSWORD']</div>
<div style="color: #000000">[01.05.2025 10:40:33.984][INFO] Ввод текста '' в элемент: 'Поле Пароль' локаторы: //input[@name = 'USER_PASSWORD']</div>
<div style="color: #000000">[01.05.2025 10:40:35.101][INFO] Ожидание отображения элемента 'Поле Пароль' локаторы: //input[@name = 'USER_PASSWORD']</div>
<div style="color: #000000">[01.05.2025 10:40:35.133][INFO] Ввод текста 'passwd01052025224003' в элемент: 'Поле Пароль' локаторы: //input[@name = 'USER_PASSWORD']</div>
<div style="color: #000000">[01.05.2025 10:40:36.263][INFO] Ожидание отображения элемента 'Кнопка Войти' локаторы: //button[@name = 'Login']</div>
<div style="color: #000000">[01.05.2025 10:40:36.310][INFO] Ожидание отображения элемента 'Кнопка Войти' локаторы: //button[@name = 'Login']</div>
<div style="color: #000000">[01.05.2025 10:40:36.343][INFO] Click: 'Кнопка Войти' локаторы: //button[@name = 'Login']</div>
<div style="color: #000000">[01.05.2025 10:40:40.377][INFO] Ожидание отображения элемента 'Кнопка перехода на главную страницу' локаторы: //a[@class = 'navbar-item' and contains(text(), 'Главная')]</div>
<div style="color: #000000">[01.05.2025 10:40:41.257][INFO] Пользователь успешно авторизован</div>
<div style="color: #000000">[01.05.2025 10:40:41.258][INFO] ---------------Кейс 'Авторизация пользователя' завершён---------------</div>
